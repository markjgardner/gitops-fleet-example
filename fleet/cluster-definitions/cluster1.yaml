apiVersion: v1
kind: ConfigMap
metadata:
  name: fleet-cluster1-aks
  namespace: cluster-definitions
  annotations:
    kubernetes-fleet.io/envelope-configmap: "true"
data:
  cluster.yaml: |
    apiVersion: containerservice.azure.com/v1api20240901
    kind: ManagedCluster
    metadata:
      name: fleet-cluster1-aks
      namespace: cluster-definitions
    spec:
      location: westus3
      owner:
        name: myfleet-rg
      dnsPrefix: fleet-cluster1
      agentPoolProfiles:
        - name: system
          enableAutoScaling: true
          minCount: 1
          maxCount: 4
          vmSize: standard_d2as_v6
          osType: Linux
          osSKU: AzureLinux
          mode: System
      identity:
        type: SystemAssigned